<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cevi Jewelry Box</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.147.0/examples/js/loaders/RGBELoader.js"></script>
    <script src="app.js"></script>
</head>
<body>
    <a-scene state-manager hdr-env renderer="colorManagement: true; physicallyCorrectLights: true">
        <a-camera position="0 1.6 3" look-controls>
            <a-cursor raycaster="objects: [data-raycastable]"></a-cursor>
        </a-camera>

        <a-light type="ambient" color="#ffffff" intensity="0.35"></a-light>
        <a-light type="hemisphere" skyColor="#ffffff" groundColor="#442200" intensity="0.4"></a-light>
        <a-light type="directional" position="1 2 2" intensity="1.2" castShadow="true"></a-light>
        <a-light type="point" position="-1 1 1.5" intensity="0.7"></a-light>

        <a-box position="0 0 0" width="2" height="0.5" depth="1.5" color="#8B4513" material="metalness: 0.2; roughness: 0.6"></a-box>
        
        <a-text id="box-text" value="THIS IS FOR YOU" position="0 0.35 0.8" align="center" color="#FFD700" font="https://cdn.aframe.io/fonts/Roboto-msdf.json" font-size="0.28" letter-spacing="15" width="2.8" material="emissive: #E6C200; emissiveIntensity: 0.5; metalness: 0.6; roughness: 0.2; transparent: true"></a-text>
        
       
        <a-box position="0 0.25 0" width="1.8" height="0.1" depth="1.3" color="#3e1f12" material="metalness: 0.8; roughness: 0.18" interior-reflective></a-box>

        <a-plane position="0 0.33 0" rotation="-90 0 0" width="1.2" height="0.9" material="color: #20110a; metalness: 0.9; roughness: 0.15" interior-reflective receiveShadow="true"></a-plane>

        <a-box id="box-lid" position="0 0.28 0" width="1.9" height="0.08" depth="1.4" color="#A0522D" material="metalness: 0.3; roughness: 0.5" data-raycastable box-opener></a-box>

        <a-gltf-model class="ring" data-raycastable data-ring-name="Ruby Diamond Ring" src="assets/models/free_low_poly_ruby_diamond_ring.glb" position="-0.5 0.35 -0.1" scale="0.5 0.5 0.5" ring-focus drag-rotate shadow="cast: true" visible="false"></a-gltf-model>
        <a-gltf-model class="ring" data-raycastable data-ring-name="Black Diamond Ring" src="assets/models/black_diamond_ring.glb" position="0 0.35 0.2" scale="0.5 0.5 0.5" ring-focus drag-rotate shadow="cast: true" visible="false"></a-gltf-model>
        <a-gltf-model class="ring" data-raycastable data-ring-name="Gold Ruby Ring" src="assets/models/gold_ring_witn_ruby.glb" position="0.5 0.35 -0.1" scale="0.5 0.5 0.5" ring-focus drag-rotate shadow="cast: true" visible="false"></a-gltf-model>
    </a-scene>

    <div id="preloader">
        <div class="preloader-content">
            <div class="spinner"></div>
            <p>Loading Jewelry Box...</p>
            <p style="font-size: 12px; margin-top: 15px; opacity: 0.8;">Press <strong>D</strong> for Debug Controls</p>
        </div>
    </div>

    <div id="ui-container">
        <div id="ring-name-display">Ring</div>
        <div id="zoom-control">
            <label>Zoom: <span id="zoom-value">100</span>%</label>
            <input type="range" id="zoom-slider" min="0" max="100" value="100" step="5">
        </div>
        <button id="reset-rotation-btn">Reset Rotation</button>
        <button id="close-btn">Close</button>
    </div>

   
    <div id="debug-panel">
        <h3>Debug Controls</h3>
        <div class="debug-control">
            <label>Metalness (Interior)</label>
            <input type="range" id="debug-metalness" min="0" max="1" step="0.01" value="0.8">
            <span id="metalness-value">0.8</span>
        </div>
        <div class="debug-control">
            <label>Roughness (Interior)</label>
            <input type="range" id="debug-roughness" min="0" max="1" step="0.01" value="0.18">
            <span id="roughness-value">0.18</span>
        </div>
        <div class="debug-control">
            <label>Focus Distance (m)</label>
            <input type="range" id="debug-focus-distance" min="0.5" max="2" step="0.1" value="0.9">
            <span id="focus-distance-value">0.9</span>
        </div>
        <div class="debug-control">
            <label>Drag Sensitivity</label>
            <input type="range" id="debug-drag-sensitivity" min="0.1" max="1" step="0.05" value="0.4">
            <span id="drag-sensitivity-value">0.4</span>
        </div>
        <button id="debug-close-btn">Close Panel</button>
    </div>
</body>
</html>
